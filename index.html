<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<script type="text/javascript">
			function deleteNode(tempNode){
				var parNode = tempNode.parentNode;
				parNode.removeChild(tempNode);
			}
			function trim(str){
				var reg = /^\s*|\s*$/g;
				return str.replace(reg,"");
			}
			function shanchu(){
				var aNodes = document.getElementById("employeetable").getElementsByTagName("a");
				for(var i = 0; i < aNodes.length; i++){
					aNodes[i].onclick = function(){
						var trNode = this.parentNode.parentNode;
						
						var textContent = trNode.getElementsByTagName("td")[0].firstChild.nodeValue;
						
						textContent = trim(textContent);
						
						var flag = confirm("¿Estás seguro de que quieres eliminar"+textContent+"¿Información?");
						if(flag){
							deleteNode(trNode);
						}
						return false;
					}
				}
			}
			function tianjia(){
				
				var subNode = document.getElementById("addEmpButton");
				subNode.onclick = function(){
					var nameVal = document.getElementById("name").value;
					var emailVal = document.getElementById("email").value;
					var saVal = document.getElementById("salary").value;
					
					var nameTd = document.createElement("td");
					nameTd.appendChild(document.createTextNode(nameVal));
					
					var emailTd = document.createElement("td");
					emailTd.appendChild(document.createTextNode(emailVal));
					
					var saTd = document.createElement("td");
					saTd.appendChild(document.createTextNode(saVal));
					
					var tr = document.createElement("tr");
					
					tr.appendChild(nameTd);
					tr.appendChild(emailTd);
					tr.appendChild(saTd);
					
					var aNode = document.createElement("a");
					aNode.href = "deleteEmp?id=xxx";
					aNode.appendChild(document.createTextNode("Delete"));
					var aTd = document.createElement("td");
					aTd.appendChild(aNode);
					
					tr.appendChild(aTd);
					
					document.getElementById("employeetable")
					.getElementsByTagName("tbody")[0].appendChild(tr)
				}
			}
			
			window.onload = function(){
				shanchu();
				tianjia();
			}
			
		</script>>
	</head>
	<body>
		
		<center>
			<br> <br>  Agregar nuevo empleado <br><br> name: <input type="text"
				name="name" id="name"/>&nbsp;&nbsp; email: <input type="text" name="email" id="email" />
				&nbsp;&nbsp; 	salary: <input type="text" name="salary" id="salary" value=""/> <br> <br>
				<button id="addEmpButton">Submit</button>
			<br> <br>
			<hr>
			<br> <br>
			
			<table id="employeetable" border="1" cellpadding="5" cellspacing="">
				<tbody>
					<tr>
						<th>Nombre</th>
						<th>Salario</th>
						<th>Salario</th>
						<th>&nbsp;</th>
					</tr>
					<tr>
						<td>Dario</td>
						<td>dario@hotmail.com</td>
						<td>75000</td>
						<td><a href="deleteEmp?id=001">Delete</a></td>
					</tr>
					<tr>
						<td>Alan</td>
						<td>Alan123@yahoo.com</td>
						<td>68000</td>
						<td><a href="deleteEmp?id=002">Delete</a></td>
					</tr>
					<tr>
						<td>Pablo</td>
						<td>Pablo.caba@hotmail.es</td>
						<td>110000</td>
						<td><a href="deleteEmp?id=003">Delete</a></td>
					</tr>
				</tbody>
			</table>
		</center>
	</body>
</html>



